import QRCode from 'qrcode';
import { useEffect, useState } from 'react';
export const isQRCodeValue = (valueOrOptions) => typeof valueOrOptions === 'string' || Array.isArray(valueOrOptions);
export const useQRCode = (valueOrOptions) => {
    const [dataURL, setDataURL] = useState();
    useEffect(() => {
        const isValue = isQRCodeValue(valueOrOptions);
        const value = (isValue ? valueOrOptions : valueOrOptions.value);
        let options;
        if (!isValue) {
            const { quality, ...props } = valueOrOptions;
            options = Object.assign(props, {
                renderOptions: {
                    quality,
                },
            });
        }
        if (!value) {
            return setDataURL('');
        }
        QRCode.toDataURL(value, options).then(setDataURL);
    }, [valueOrOptions]);
    return dataURL;
};
//# sourceMappingURL=use-qrcode.js.map